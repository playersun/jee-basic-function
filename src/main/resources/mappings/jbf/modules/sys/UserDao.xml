<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.playersun.jbf.modules.sys.dao.UserDao">

    <sql id="userColumns">
        a.id, a.username, a.password, a.salt, a.name,
        a.work_number, a.sex, a.birthday, a.email, a.mobile, a.photo,
        a.create_by, a.create_date, a.update_by,
        a.update_date, a.remarks, a.deleted,
        a.status
    </sql>
    
    <!-- 根据ID查询用户 -->
    <select id="findById" resultType="User">
        SELECT
            <include refid="userColumns"/>
        FROM sys_user a
        <!-- <include refid="userJoins"/> -->
        WHERE a.id = #{id}
    </select>
    
    <!-- 根据登录名查询用户 -->
    <select id="findByUserName" resultType="User">
        SELECT
            <include refid="userColumns"/>
        FROM sys_user a
        <!-- <include refid="userJoins"/> -->
        WHERE a.username = #{userName}
    </select>
    
    <!-- 根据邮箱查询用户 -->
    <select id="findByEmail" resultType="User">
        SELECT
            <include refid="userColumns"/>
        FROM sys_user a
        <!-- <include refid="userJoins"/> -->
        WHERE a.email = #{email}
    </select>
    
    <!-- 根据手机号查询用户 -->
    <select id="findByMobilePhoneNumber" resultType="User">
        SELECT
            <include refid="userColumns"/>
        FROM sys_user a
        <!-- <include refid="userJoins"/> -->
        WHERE a.mobile = #{mobile}
    </select>

</mapper>